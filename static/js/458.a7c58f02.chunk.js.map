{"version":3,"file":"static/js/458.a7c58f02.chunk.js","mappings":"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","sources":["components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.jsx","webpack://my-app/./src/components/Profile/MyPosts/MyPosts.module.css?831b","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.module.css","components/Profile/ProfileStatus.jsx","components/Profile/ProfileStatusWithHook.jsx","components/Profile/MyProfile.jsx","components/Profile/UserProfile.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hocs/hocRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import React from 'react';\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div>\r\n      <div>{props.message}</div>\r\n      <div className={classes.post}>Like {props.like}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"myPosts\":\"MyPosts_myPosts__0DAeC\"};","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport classes from './MyPosts.module.css'\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLength, required } from '../../../utils/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nlet maxLength10 = maxLength(10)\r\n\r\nconst PostsForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field component={Textarea} name={'newPost'} validate={[required, maxLength10]} placeholder={'fdfdfdf'} />\r\n      </div>\r\n      <div>\r\n        <button>Add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst PostsReduxForm = reduxForm({ form: 'posts' })(PostsForm)\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n  let postElement = props.posts.map(post => <Post message={post.message} like={post.like} key={post.id} />)\r\n\r\n  const onSubmitPosts = (value) => {\r\n    props.addPosts(value.newPost)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.myPosts}>\r\n      My posts\r\n      <PostsReduxForm onSubmit={onSubmitPosts} />\r\n      {postElement}\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\nexport default MyPosts","import { connect } from 'react-redux';\r\nimport { addPostActionCreator, updateNewPostTextActionCreator } from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPosts: (newPost) => {\r\n      dispatch(addPostActionCreator(newPost))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","// extracted by mini-css-extract-plugin\nexport default {};","import React from 'react';\r\n\r\nclass ProfileStatus extends React.Component {\r\n  state = {\r\n    editMode: false,\r\n    status: this.props.status\r\n  }\r\n  activateEditMode = () => {\r\n    this.setState({ editMode: true })\r\n  }\r\n  deactivateEditMode = () => {\r\n    this.setState({ editMode: false })\r\n    this.props.updateStatusThunk(this.state.status)\r\n  }\r\n  onStatusChange = (statusChange) => {\r\n    this.setState({\r\n      status: statusChange.currentTarget.value\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n      if (prevProps.status !== this.props.status) {\r\n      this.setState({status: this.props.status})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.editMode ||\r\n          <div>\r\n            <span onDoubleClick={this.activateEditMode} >{this.props.status || '--------'}</span>\r\n          </div>\r\n        }\r\n        {this.state.editMode &&\r\n          <div>\r\n            <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status} />\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProfileStatus","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHook = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(false) \r\n  let [status, setStatus] = useState(props.status) \r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  let activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  let deactivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatusThunk(status)\r\n  }\r\n\r\n  let onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n  return (\r\n    <div>\r\n      {editMode ||\r\n        <div>\r\n          <span onDoubleClick={activateEditMode} >{status || '--------'}</span>\r\n        </div>\r\n      }\r\n      {editMode &&\r\n        <div>\r\n          <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status} />\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatusWithHook","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport classes from './Profile.module.css'\r\nimport ProfileStatus from './ProfileStatus';\r\nimport ProfileStatusWithHook from './ProfileStatusWithHook';\r\n\r\nconst MyProfile = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={classes.item}>My Profile Content</div>\r\n      <img src={props.profile.photos.large === null ? userPhoto : props.profile.photos.large}></img>\r\n      <div>{props.profile.fullName}</div>\r\n      <ProfileStatusWithHook status={props.status} updateStatusThunk={props.updateStatusThunk} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyProfile\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport ProfileStatus from './ProfileStatus';\r\nimport ProfileStatusWithHook from './ProfileStatusWithHook';\r\n\r\n\r\nconst UserProfile = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <img src={props.profile.photos.large === null ? userPhoto : props.profile.photos.large }></img>\r\n      <div>{props.profile.fullName}</div>\r\n      <ProfileStatusWithHook status={props.status} updateStatusThunk={props.updateStatusThunk}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default UserProfile","import React from 'react';\r\nimport MyProfile from './MyProfile';\r\nimport UserProfile from './UserProfile';\r\n\r\nconst Profile = (props) => {\r\n  if (props.profile.userId === props.initializedId) {\r\n    return (\r\n      <div>\r\n        <MyProfile status={props.status} profile={props.profile} updateStatusThunk={props.updateStatusThunk} />\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div>\r\n        <UserProfile status={props.status} profile={props.profile} updateStatusThunk={props.updateStatusThunk} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Profile","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from './Profile';\r\nimport { getProfileThunk, getStatusThunk, updateStatusThunk } from '../../redux/profileReducer'\r\nimport { useParams } from 'react-router-dom';\r\nimport { WithRedirect } from '../../hocs/hocRedirect';\r\nimport { compose } from 'redux';\r\n\r\nconst withRouter = (Component) => {\r\n  return (props) => {\r\n    const match = { params: useParams() };\r\n    return <Component {...props} match={match} />\r\n  }\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.initializedId\r\n      /* if (!userId) {\r\n        this.props.history.push('/login')\r\n      } */\r\n    }\r\n    this.props.getProfileThunk(userId)\r\n    this.props.getStatusThunk(userId)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile status={this.props.status} {...this.props} \r\n      profile={this.props.profile} updateStatusThunk={this.props.updateStatusThunk}\r\n      initializedId={this.props.initializedId} />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    initializedId: state.auth.id\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getProfileThunk, getStatusThunk, updateStatusThunk }),\r\n  withRouter,\r\n  WithRedirect\r\n)(ProfileContainer)","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const WithRedirect = (Component) => {\r\n\r\n  class withRedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Navigate to='/login' />\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let withAuthRedirect = connect(mapStateToProps)(withRedirectComponent)\r\n\r\n  return withAuthRedirect\r\n}"],"names":["props","message","className","classes","like","maxLength10","maxLength","PostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","validate","required","placeholder","React","postElement","posts","map","post","id","value","addPosts","newPost","connect","state","profilePage","postsData","newPostText","dispatch","addPostActionCreator","MyPosts","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatusThunk","src","profile","photos","large","userPhoto","fullName","userId","initializedId","ProfileContainer","this","match","params","getProfileThunk","getStatusThunk","compose","auth","Component","useParams","WithRedirect","mapStateToProps","isAuth","withRedirectComponent","to"],"sourceRoot":""}